import{S as V,i as A,s as B,k as E,q as y,a as M,l as w,m as H,r as $,h as d,c as I,n as k,b as L,H as m,J as G,C as R,K as J,o as K,L as D,u as P}from"../../chunks/index-f277b9e7.js";function S(f,t,o){const i=f.slice();return i[3]=t[o],i}function T(f){let t,o,i,a=f[3].id+"",p,r,g,c,b,_,l,e,n=f[3].likesRecent+"",s,v;return{c(){t=E("div"),o=E("h3"),i=E("a"),p=y(a),g=M(),c=E("img"),_=M(),l=E("p"),e=y("Likes: "),s=y(n),v=M(),this.h()},l(h){t=w(h,"DIV",{class:!0});var u=H(t);o=w(u,"H3",{});var q=H(o);i=w(q,"A",{href:!0});var C=H(i);p=$(C,a),C.forEach(d),q.forEach(d),g=I(u),c=w(u,"IMG",{width:!0,src:!0,alt:!0}),_=I(u),l=w(u,"P",{});var j=H(l);e=$(j,"Likes: "),s=$(j,n),j.forEach(d),v=I(u),u.forEach(d),this.h()},h(){k(i,"href",r="https://huggingface.co/"+f[3].id),k(c,"width","300"),D(c.src,b=U(f[3].id,f[3].siblings))||k(c,"src",b),k(c,"alt","example"),k(t,"class","grid-item svelte-1lg2bo6")},m(h,u){L(h,t,u),m(t,o),m(o,i),m(i,p),m(t,g),m(t,c),m(t,_),m(t,l),m(l,e),m(l,s),m(t,v)},p(h,u){u&1&&a!==(a=h[3].id+"")&&P(p,a),u&1&&r!==(r="https://huggingface.co/"+h[3].id)&&k(i,"href",r),u&1&&!D(c.src,b=U(h[3].id,h[3].siblings))&&k(c,"src",b),u&1&&n!==(n=h[3].likesRecent+"")&&P(s,n)},d(h){h&&d(t)}}}function N(f){let t,o,i,a,p,r,g,c,b,_=f[0],l=[];for(let e=0;e<_.length;e+=1)l[e]=T(S(f,_,e));return{c(){t=E("h2"),o=y("Most liked models last month ðŸ¤—"),i=M(),a=E("div");for(let e=0;e<l.length;e+=1)l[e].c();p=M(),r=E("button"),g=y("Load more"),this.h()},l(e){t=w(e,"H2",{});var n=H(t);o=$(n,"Most liked models last month ðŸ¤—"),n.forEach(d),i=I(e),a=w(e,"DIV",{class:!0});var s=H(a);for(let h=0;h<l.length;h+=1)l[h].l(s);s.forEach(d),p=I(e),r=w(e,"BUTTON",{type:!0});var v=H(r);g=$(v,"Load more"),v.forEach(d),this.h()},h(){k(a,"class","grid svelte-1lg2bo6"),k(r,"type","button")},m(e,n){L(e,t,n),m(t,o),L(e,i,n),L(e,a,n);for(let s=0;s<l.length;s+=1)l[s].m(a,null);L(e,p,n),L(e,r,n),m(r,g),c||(b=G(r,"click",f[1]),c=!0)},p(e,[n]){if(n&1){_=e[0];let s;for(s=0;s<_.length;s+=1){const v=S(e,_,s);l[s]?l[s].p(v,n):(l[s]=T(v),l[s].c(),l[s].m(a,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=_.length}},i:R,o:R,d(e){e&&d(t),e&&d(i),e&&d(a),J(l,e),e&&d(p),e&&d(r),c=!1,b()}}}function U(f,t){let o=t.find(i=>{let a=i.rfilename.split(".").pop().toLowerCase();return["jpg","jpeg","png","webp"].includes(a)});return console.log(o),o?"https://huggingface.co/"+f+"/resolve/main/"+o.rfilename:"https://picsum.photos/300/300"}function O(f,t,o){let i=[],a=null;K(async()=>{await p()});async function p(){let r="https://huggingface.co/api/models?filter=diffusers&sort=likesRecent&direction=-1&full=1&limit=25";a&&(r+=`&cursor=${a}`);const g=await fetch(r),c=g.headers.get("link");c&&c.split(",").forEach(_=>{const l=_.match(/<(.+)>;\srel="next"/);l&&(a=l[1].split("&cursor=")[1])}),o(0,i=[...i,...await g.json()])}return[i,p]}class F extends V{constructor(t){super(),A(this,t,O,N,B,{})}}export{F as default};
