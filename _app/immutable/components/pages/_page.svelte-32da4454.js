import{S as G,i as N,s as S,k as b,q as L,a as D,l as w,m as H,r as y,h as c,c as I,n as g,b as k,H as p,J as T,C as P,K as V,o as B,L as A,u as U,M as J,N as R}from"../../chunks/index-bcc75f91.js";function x(i,e,n){const l=i.slice();return l[3]=e[n],l}function K(i){let e,n;return{c(){e=b("img"),this.h()},l(l){e=w(l,"IMG",{width:!0,src:!0,alt:!0}),this.h()},h(){g(e,"width","300"),R(e.src,n="https://placehold.co/300x300")||g(e,"src",n),g(e,"alt","example")},m(l,a){k(l,e,a)},p:P,d(l){l&&c(e)}}}function O(i){let e,n;return{c(){e=b("img"),this.h()},l(l){e=w(l,"IMG",{width:!0,src:!0,alt:!0}),this.h()},h(){g(e,"width","300"),R(e.src,n=i[6])||g(e,"src",n),g(e,"alt","example")},m(l,a){k(l,e,a)},p(l,a){a&1&&!R(e.src,n=l[6])&&g(e,"src",n)},d(l){l&&c(e)}}}function Z(i){let e,n;return{c(){e=b("p"),n=L("loading...")},l(l){e=w(l,"P",{});var a=H(e);n=y(a,"loading..."),a.forEach(c)},m(l,a){k(l,e,a),p(e,n)},p:P,d(l){l&&c(e)}}}function F(i){let e,n,l,a=i[3].id+"",f,d,h,m,u,_,E,M=i[3].likesRecent+"",v,r,t={ctx:i,current:null,token:null,hasCatch:!0,pending:Z,then:O,catch:K,value:6,error:7};return A(m=q(i[3].id,i[3].siblings),t),{c(){e=b("div"),n=b("h3"),l=b("a"),f=L(a),h=D(),t.block.c(),u=D(),_=b("p"),E=L("Likes: "),v=L(M),r=D(),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=H(e);n=w(s,"H3",{});var $=H(n);l=w($,"A",{href:!0});var j=H(l);f=y(j,a),j.forEach(c),$.forEach(c),h=I(s),t.block.l(s),u=I(s),_=w(s,"P",{});var C=H(_);E=y(C,"Likes: "),v=y(C,M),C.forEach(c),r=I(s),s.forEach(c),this.h()},h(){g(l,"href",d="https://huggingface.co/"+i[3].id),g(e,"class","grid-item svelte-1lg2bo6")},m(o,s){k(o,e,s),p(e,n),p(n,l),p(l,f),p(e,h),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=u,p(e,u),p(e,_),p(_,E),p(_,v),p(e,r)},p(o,s){i=o,s&1&&a!==(a=i[3].id+"")&&U(f,a),s&1&&d!==(d="https://huggingface.co/"+i[3].id)&&g(l,"href",d),t.ctx=i,s&1&&m!==(m=q(i[3].id,i[3].siblings))&&A(m,t)||J(t,i,s),s&1&&M!==(M=i[3].likesRecent+"")&&U(v,M)},d(o){o&&c(e),t.block.d(),t.token=null,t=null}}}function z(i){let e,n,l,a,f,d,h,m,u,_,E,M,v=i[0],r=[];for(let t=0;t<v.length;t+=1)r[t]=F(x(i,v,t));return{c(){e=b("h2"),n=L("Most liked models last month ðŸ¤—"),l=D(),a=b("p"),f=L("Diffusers models most liked on Hugging Face last month"),d=D(),h=b("div");for(let t=0;t<r.length;t+=1)r[t].c();m=D(),u=b("button"),_=L("Load more"),this.h()},l(t){e=w(t,"H2",{});var o=H(e);n=y(o,"Most liked models last month ðŸ¤—"),o.forEach(c),l=I(t),a=w(t,"P",{});var s=H(a);f=y(s,"Diffusers models most liked on Hugging Face last month"),s.forEach(c),d=I(t),h=w(t,"DIV",{class:!0});var $=H(h);for(let C=0;C<r.length;C+=1)r[C].l($);$.forEach(c),m=I(t),u=w(t,"BUTTON",{type:!0});var j=H(u);_=y(j,"Load more"),j.forEach(c),this.h()},h(){g(h,"class","grid svelte-1lg2bo6"),g(u,"type","button")},m(t,o){k(t,e,o),p(e,n),k(t,l,o),k(t,a,o),p(a,f),k(t,d,o),k(t,h,o);for(let s=0;s<r.length;s+=1)r[s].m(h,null);k(t,m,o),k(t,u,o),p(u,_),E||(M=T(u,"click",i[1]),E=!0)},p(t,[o]){if(o&1){v=t[0];let s;for(s=0;s<v.length;s+=1){const $=x(t,v,s);r[s]?r[s].p($,o):(r[s]=F($),r[s].c(),r[s].m(h,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=v.length}},i:P,o:P,d(t){t&&c(e),t&&c(l),t&&c(a),t&&c(d),t&&c(h),V(r,t),t&&c(m),t&&c(u),E=!1,M()}}}async function q(i,e){let n=e.find(a=>{let f=a.rfilename.split(".").pop().toLowerCase();return["jpg","jpeg","png","webp"].includes(f)});const l="https://huggingface.co/"+i;if(n)return`${l}/resolve/main/${n.rfilename}`;{const a=/\b(https?):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*\.(?:jpe?g|png|gif|bmp|webp)\b/gi,h=(await(await fetch(`${l}/resolve/main/README.md`)).text()).match(a);return h?h[0]:"https://placehold.co/300x300"}}function Q(i,e,n){let l=[],a=null;B(async()=>{await f(),await q()});async function f(){let d="https://huggingface.co/api/models?filter=diffusers&sort=likesRecent&direction=-1&full=1&limit=24";a&&(d+=`&cursor=${a}`);const h=await fetch(d),m=h.headers.get("link");m&&m.split(",").forEach(_=>{const E=_.match(/<(.+)>;\srel="next"/);E&&(a=E[1].split("&cursor=")[1])}),n(0,l=[...l,...await h.json()])}return[l,f]}class X extends G{constructor(e){super(),N(this,e,Q,z,S,{})}}export{X as default};
